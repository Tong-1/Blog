<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="keywords" content="没事儿,tong-h,Tong-H,tong-h blog"><meta name="descriptioon" content="personal blog by tong/没事儿"><meta name="renderer" content="wekit"><link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/css/public.css"><link rel="stylesheet" href="/css/reset.css"><link rel="stylesheet" href="/css/iconfont.css"><title>博客 [ 没事儿 ]</title><link rel="stylesheet" href="/css/partial/footer.css"><link rel="stylesheet" href="/css/partial/posts.css"><link rel="stylesheet" href="/css/partial/posts.css"><link rel="stylesheet" href="/css/partial/sidebar.css"><link rel="stylesheet" href="/css/archive.css"><link rel="stylesheet" href="/css/index.css"></head><body class="scroll"><link rel="stylesheet" href="/css/partial/header.css"><div class="header"><div class="maxwidth"><div class="nav"><a id="artlist" href="/404"><i class="iconfont icon404"></i><span class="headhid">&nbsp;404</span></a><a class="focuspage" id="artlist" href="/archives"><i class="iconfont iconarchives"></i><span class="headhid">&nbsp;博 客</span></a><a id="artlist" href="/about"><i class="iconfont iconabout"></i><span class="headhid">&nbsp;关 于</span></a><a id="artlist" href="/link"><i class="iconfont iconlink"></i><span class="headhid">&nbsp;友 链</span></a></div><div class="search">It's more tiring to stop</div></div></div><div class="headerline"></div><div class="main"> <div class="maxwidth"><link rel="stylesheet" href="/css/partial/sidebar.css"><div id="sidebar"><div class="info"><a href="/"><img src="/images/user.png" alt="头像"></a><div><p>没事儿</p></div></div><div class="social"><a href="/archives" title="Home"><i class="iconfont iconHome"></i></a><a href="/atom.xml" title="RSS 源订阅"><i class="iconfont iconsubscribe-1-copy"></i></a><a href="mailto:tongt0232@gmail.com" title="E-Mail"><i class="iconfont iconweibiaoti554"></i></a><a href="https://github.com/tong-h" title="GitHub"><i class="iconfont iconGitHub"></i></a><a href="https://www.jianshu.com/u/20de04cc53de" title="简书"><img src="/images/jianicon-sidebar.png"></a></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/MYSQL/">MYSQL</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/PYTHON/">PYTHON</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/RESTS/">RESTS</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/SERVER/">SERVER</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TOOL/">TOOL</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/WEB/">WEB</a><span class="category-list-count">23</span></li></ul><div class="tags"><a href="/tags/ECharts/" style="font-size: 14px; color: #ffac00">ECharts</a> <a href="/tags/Electron/" style="font-size: 14px; color: #ffac00">Electron</a> <a href="/tags/JSON/" style="font-size: 14px; color: #ffac00">JSON</a> <a href="/tags/angular/" style="font-size: 18px; color: #ec9d00">angular</a> <a href="/tags/canvas/" style="font-size: 26px; color: #c77e00">canvas</a> <a href="/tags/cordova/" style="font-size: 30px; color: #b46e00">cordova</a> <a href="/tags/domain/" style="font-size: 14px; color: #ffac00">domain</a> <a href="/tags/ffmpeg/" style="font-size: 14px; color: #ffac00">ffmpeg</a> <a href="/tags/git/" style="font-size: 14px; color: #ffac00">git</a> <a href="/tags/gitment/" style="font-size: 14px; color: #ffac00">gitment</a> <a href="/tags/hexo/" style="font-size: 22px; color: #da8d00">hexo</a> <a href="/tags/http/" style="font-size: 14px; color: #ffac00">http</a> <a href="/tags/markdown/" style="font-size: 14px; color: #ffac00">markdown</a> <a href="/tags/mpvue/" style="font-size: 14px; color: #ffac00">mpvue</a> <a href="/tags/mysql/" style="font-size: 14px; color: #ffac00">mysql</a> <a href="/tags/nginx/" style="font-size: 14px; color: #ffac00">nginx</a> <a href="/tags/nodejs/" style="font-size: 14px; color: #ffac00">nodejs</a> <a href="/tags/npm/" style="font-size: 14px; color: #ffac00">npm</a> <a href="/tags/python/" style="font-size: 14px; color: #ffac00">python</a> <a href="/tags/rests/" style="font-size: 14px; color: #ffac00">rests</a> <a href="/tags/search/" style="font-size: 14px; color: #ffac00">search</a> <a href="/tags/server/" style="font-size: 14px; color: #ffac00">server</a> <a href="/tags/vue/" style="font-size: 14px; color: #ffac00">vue</a> <a href="/tags/yarn/" style="font-size: 14px; color: #ffac00">yarn</a> <a href="/tags/原型链/" style="font-size: 14px; color: #ffac00">原型链</a> <a href="/tags/死磕英语/" style="font-size: 14px; color: #ffac00">死磕英语</a> <a href="/tags/缓存/" style="font-size: 14px; color: #ffac00">缓存</a> <a href="/tags/网络爬虫/" style="font-size: 18px; color: #ec9d00">网络爬虫</a> <a href="/tags/跨域/" style="font-size: 14px; color: #ffac00">跨域</a></div><script>(function () {
    let list = document.getElementsByClassName('category-list-link')
    for(const i of list) i.href = i.href.toLowerCase()
})()</script></div><div class="archive rightside"><div id="list_archives" style="opacity: 0;display:  none"><div class="switch" id="arshow"><i class="iconfont iconArchives"></i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a><span class="archive-list-count">3</span></li></ul></div><div id="normalposts"><div class="switch" id="poshow"><i class="iconfont iconshijian"></i></div><article><a class="artititle" href="/2018/08/07/mpvue/">mpvue小程序以及微信直播踩坑总结</a><div class="content ellipse"><p></p><p>前段时间刚写完一个mpvue的小程序，现在得闲必须赶紧记录和总结一下，不然很多东西又要忘了</p>
<p>我是比较熟悉vue的语法，但是也犹豫过是用原生还是用mpvue，因为那时候原生小程序已经相当成熟而mpvue才刚出来（踩坑和填坑的前人还很少）</p>
<p>所以我学习了几天原生的框架和语法，果断选择了mpvue，真的是没有对比就没有伤害，对比原生体验不要太好</p>
<p>mpvue是一个使用 Vue.js 开发小程序的前端框架，他是将我们写的vue文件重新编译成wxml等文件，最后的底层实现还是用的小程序语法，所以原生小程序语法也是比较重要的，而且像很多下拉刷新，到底部请求下一页什么的等等很多地方也是要用到小程序api的，所以建议大家在入坑之前还是了解一些小程序语法比较好</p>
<p>附上<a href="http://mpvue.com/#_1" target="_blank" rel="noopener">官方文档</a></p>
<h1 id="项目配置"><a href="#项目配置" class="headerlink" title="项目配置"></a>项目配置</h1><p>使用官方的5分钟上手，生成一个基本框架，后来开发也没有手动修改过他的配置</p>
<p>用到了4个插件</p>
<h2 id="mpvue-weui-ui库，相当方便轻量好使"><a href="#mpvue-weui-ui库，相当方便轻量好使" class="headerlink" title="mpvue-weui    ui库，相当方便轻量好使"></a>mpvue-weui    ui库，相当方便轻量好使</h2><p>官网地址：<a href="http://kuangpf.com/mpvue-weui/#/" target="_blank" rel="noopener">http://kuangpf.com/mpvue-weui/#/</a></p>
<h2 id="mpvue-toast-一个基于mpvue的简单弹窗组件"><a href="#mpvue-toast-一个基于mpvue的简单弹窗组件" class="headerlink" title="mpvue-toast  一个基于mpvue的简单弹窗组件"></a>mpvue-toast  一个基于mpvue的简单弹窗组件</h2><p>因为mpvue目前还不支持全局的组件，所以没有办法像vue组件引入一次就能在所有页面使用，但是mpvue团队已经在考虑新增全局组件功能了</p>
<p>github地址：<a href="https://github.com/linrui1994/mpvue-toast" target="_blank" rel="noopener">https://github.com/linrui1994/mpvue-toast</a> </p>
<h2 id="sass-不多介绍"><a href="#sass-不多介绍" class="headerlink" title="sass  不多介绍"></a>sass  不多介绍</h2><p>全局安装：npm install sass-loader node-sass –save-dev </p>
<p>在style节点加上lang=”scss”，这样就可以愉快地使用sass进行开发了</p>
<h2 id="mpvue-router-patch-在mpvue-中使用-vue-router-兼容的路由写法"><a href="#mpvue-router-patch-在mpvue-中使用-vue-router-兼容的路由写法" class="headerlink" title="mpvue-router-patch   在mpvue 中使用 vue-router 兼容的路由写法"></a>mpvue-router-patch   在mpvue 中使用 vue-router 兼容的路由写法</h2><p>当知道mpvue不支持vue-router的时候我还是非常难受，还好mpvue团队后面发布了这个插件，非常简单好用</p>
<p>github地址：<a href="https://github.com/F-loat/mpvue-router-patch" target="_blank" rel="noopener">https://github.com/F-loat/mpvue-router-patch</a></p>
<p>接下来的3个插件我没有用过但是和mpvue-router-patch一样是mpvue团队发布的，感觉应该也不差，也推荐给大家如果需要可以花时间了解一下</p>
<h2 id="mpvue-echarts-适用于-Mpvue-的-ECharts-组件"><a href="#mpvue-echarts-适用于-Mpvue-的-ECharts-组件" class="headerlink" title="mpvue-echarts    适用于 Mpvue 的 ECharts 组件"></a>mpvue-echarts    适用于 Mpvue 的 ECharts 组件</h2><p>github地址：<a href="https://github.com/F-loat/mpvue-echarts" target="_blank" rel="noopener">https://github.com/F-loat/mpvue-echarts</a></p>
<h2 id="微信小程序富文本解析组件-适用于-Mpvue-的微信小程序富文本解析自定义组件"><a href="#微信小程序富文本解析组件-适用于-Mpvue-的微信小程序富文本解析自定义组件" class="headerlink" title="微信小程序富文本解析组件  适用于 Mpvue 的微信小程序富文本解析自定义组件"></a>微信小程序富文本解析组件  适用于 Mpvue 的微信小程序富文本解析自定义组件</h2><p>github地址：<a href="https://github.com/F-loat/mpvue-wxParse" target="_blank" rel="noopener">https://github.com/F-loat/mpvue-wxParse</a></p>
<h2 id="mpvue-entry自动生成各页面的入口文件-集中式页面配置，自动生成各页面的入口文件，优化目录结构，支持新增页面热更新"><a href="#mpvue-entry自动生成各页面的入口文件-集中式页面配置，自动生成各页面的入口文件，优化目录结构，支持新增页面热更新" class="headerlink" title="mpvue-entry自动生成各页面的入口文件  集中式页面配置，自动生成各页面的入口文件，优化目录结构，支持新增页面热更新"></a>mpvue-entry自动生成各页面的入口文件  集中式页面配置，自动生成各页面的入口文件，优化目录结构，支持新增页面热更新</h2><p>github地址：<a href="https://github.com/F-loat/mpvue-entry" target="_blank" rel="noopener">https://github.com/F-loat/mpvue-entry</a></p>
<h2 id="关于ajax请求封装，拿走不谢"><a href="#关于ajax请求封装，拿走不谢" class="headerlink" title="关于ajax请求封装，拿走不谢"></a>关于ajax请求封装，拿走不谢</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> urlPath = <span class="string">''</span> <span class="comment">// 项目的域名</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">post</span>(<span class="params">url, data</span>) </span>&#123;</span><br><span class="line">  wx.showLoading(&#123;</span><br><span class="line">    title: <span class="string">'努力加载中'</span>,</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="comment">// 由于微信不会保存后端用于登陆验证的cookie，这里需要自己从登陆返回的数据里取到cookie，然后本地缓存，请求时在header里带上cookie</span></span><br><span class="line">  <span class="keyword">let</span> header = &#123;&#125; </span><br><span class="line">  url === <span class="string">'user/loginworker'</span> <span class="comment">// 通过传进来的url判断是否是登陆页</span></span><br><span class="line">    ? header = &#123;&#125; </span><br><span class="line">    : header = &#123;</span><br><span class="line">      <span class="string">'content-type'</span>: <span class="string">'application/x-www-form-urlencoded'</span>,</span><br><span class="line">      <span class="string">'cookie'</span>: wx.getStorageSync(<span class="string">"sessionid"</span>)</span><br><span class="line">    &#125; </span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    wx.request(&#123;</span><br><span class="line">      url: urlPath + url,</span><br><span class="line">      data: data,</span><br><span class="line">      method: <span class="string">'get'</span>,</span><br><span class="line">      header: header, success(res) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res)</span><br><span class="line">        <span class="keyword">if</span> (res.statusCode === <span class="number">200</span>) &#123;</span><br><span class="line">          <span class="keyword">if</span> (res.data === <span class="number">9999</span>) &#123; <span class="comment">// 后端返回9999表示cookie失效</span></span><br><span class="line">            wx.showModal(&#123;</span><br><span class="line">              content: <span class="string">'登陆超时请重新登陆'</span>,</span><br><span class="line">              showCancel: <span class="literal">false</span>,</span><br><span class="line">              success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (res.confirm) &#123;</span><br><span class="line">                  wx.navigateTo(&#123;</span><br><span class="line">                    url: <span class="string">'../../pages/login/main'</span>,</span><br><span class="line">                  &#125;)</span><br><span class="line">                &#125;</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125; <span class="keyword">else</span> <span class="keyword">if</span> (res.data.code &amp;&amp; res.data.code !== <span class="number">200</span>) &#123; <span class="comment">// 若返回coode码且不等于200表示传入参数有问题</span></span><br><span class="line">            res.message = res.data.message, reject(res)</span><br><span class="line">          &#125; <span class="keyword">else</span> resolve(res)</span><br><span class="line">            <span class="comment">// 存储cookie</span></span><br><span class="line">          res.data.message === <span class="string">'登录成功。'</span> ? wx.setStorageSync(<span class="string">"sessionid"</span>, res.header[<span class="string">"Set-Cookie"</span>]) : <span class="string">""</span></span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">          res.message = <span class="string">'服务器错误请求失败'</span></span><br><span class="line">          reject(res)</span><br><span class="line">        &#125;</span><br><span class="line">        wx.hideLoading()</span><br><span class="line">      &#125;, fail(err) &#123;</span><br><span class="line">        err.message = <span class="string">'请求超时请稍后再试'</span></span><br><span class="line">        reject (err)</span><br><span class="line">        wx.hideLoading()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="生命周期钩子"><a href="#生命周期钩子" class="headerlink" title="生命周期钩子"></a>生命周期钩子</h2><p>created是vue的生命周期在mpvue里所有页面的created函数会在项目加载的时候被一起调用，可用性不大，可以使用onShow()代替，但是onShow()只有在隐藏又显示后才会显示,也就是第一次加载不会执行</p>
<p> created() {<br>    console.log(‘created’)<br>  },<br>  mounted() {<br>    console.log(‘mounted’)<br>  },<br>  onLoad() {<br>    console.log(‘onLoad’)<br>  },<br>  onShow() {<br>    console.log(‘onShow’)<br>  },<br>  onUnload() {<br>    console.log(‘onUnload’)<br>  },<br>  onHide() {<br>    console.log(‘onHide’)<br>  },</p>
<h2 id="页面跳转后并没有销毁页面实例"><a href="#页面跳转后并没有销毁页面实例" class="headerlink" title="页面跳转后并没有销毁页面实例"></a>页面跳转后并没有销毁页面实例</h2><p>比如一个搜索页面，页面第一次进来所有的数据都是空的，但你搜索一次之后，input框就有值了，这个时候再跳转到其他页面或者返回之后再进入这个页面那个值依然存在，页面跳转后并没有销毁页面实例，而是将其推入页面栈中，所以会保存之前的旧的数据，目前为止看到的比较统一的解决办法就是：在onShow()或者onLoad()手动清空</p>
<h2 id="关于微信直播"><a href="#关于微信直播" class="headerlink" title="关于微信直播"></a>关于微信直播</h2><p>这个小程序需要引入监控相当于是直播功能，这个组件也是有点坑</p>
<p>Live-player组件本身只能播放，如果想要在组件上加功能，像什么全屏静音播放暂停之类的功能需要使用wx.createLivePlayerContext()方法，而且由于live-player层级是最高的，如果你需要在组件上加功能比如点一下全屏再点下退出全屏或者加css样式，你必须写在 cover-view cover-image上面，直接加在live-player上是没用的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;live-player id=<span class="string">'liveInfo'</span> src=<span class="string">""</span> mode=<span class="string">"live"</span> autoplay=<span class="string">'false'</span> @bindstatechange=<span class="string">"statechange"</span> binderror=<span class="string">"error"</span>&gt;</span><br><span class="line">    &lt;cover-image @click=<span class="string">"requestFullScreen"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">cover-image</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">live-player</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>你以为这样就完了嘛，不，如果你有一个直播列表，比如一个屏幕同时有一个以上的live-player组件那么你全屏的时候就会发现其余的组件因为层级的原因全部覆盖在你全屏的那个组件之上</p>
<p>解决办法：全屏是v-if隐藏其余的组件，退出时再显示</p>
<p>欢迎留言交流  (´▽`ʃ♡ƪ)</p>
<p></p></div><div class="meta"><i class="iconfont iconweibiaoti--" title="阅读时长">6</i><i class="iconfont iconwenzi" title="字数">1.5k</i><i class="iconfont iconshijian" title="创建时间">2018-08-07 17:31</i></div></article><article><a class="artititle" href="/2018/08/07/python_爬虫/">python爬虫之爬取掘金网首页存入mysql数据库</a><div class="content ellipse"><p></p><p>博主是个前端小白，最近在学习爬虫，写个实战系列也是想记录自己学习的过程，以便后续回顾</p>
<p>欢迎大家一起交流学习、共同进步</p>
<p>这篇文章达成的效果是爬掘金网的首页的数据存到mysql数据库里</p>
<p><img src="https://img-blog.csdn.net/2018080714283577?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RvbmdfMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="效果"><br><img src="https://img-blog.csdn.net/20180807143043893?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RvbmdfMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="效果"></p>
<p>做这个实战你需要具有一点点python的基础知识，当然没有也行可以复制代码先跑一跑感受一下会有动力一点</p>
<p>爬取的网站：<a href="https://juejin.im/timeline" target="_blank" rel="noopener">https://juejin.im/timeline</a></p>
<p>系统：win10</p>
<p>python版本:3.7</p>
<p>MYSQL安装包下载：<a href="https://dev.mysql.com/downloads/windows/installer/" target="_blank" rel="noopener">https://dev.mysql.com/downloads/windows/installer/</a> </p>
<p><img src="https://img-blog.csdn.net/20180802145942417?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RvbmdfMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="效果"></p>
<p>mysql-installer-web-community  15.9M那个是在线安装</p>
<p>mysql-installer-community 推荐下载第二个离线安装</p>
<p>现在这个安装包好像不分32位还是64位，我是64位的安装成功，MSI安装版安装挺简单的我就不赘述了（其实我安装蛮久了没记录下来）</p>
<p>安装完成可以通过·mysql -u root -p查看</p>
<p>mysql安装成功后你还需要一个python操作mysql的库，cmd执行使用pip安装pymysql:</p>
<p>pip install pymysql<br>环境准备好后就开始愉快的学习吧</p>
<p>网站分析<br>我们进入网站<a href="https://juejin.im/，然后打开f12（博主用的是chrome浏览器，在前端眼里chrome是最好浏览器没有之一）" target="_blank" rel="noopener">https://juejin.im/，然后打开f12（博主用的是chrome浏览器，在前端眼里chrome是最好浏览器没有之一）</a></p>
<p>掘金网是个动态网站，即客户端（浏览器）根据服务端（服务器）返回的数据动态渲染网页</p>
<p>那么数据从哪儿来，服务端会根据客户端不同的请求或者请求参数的差异来返回数据</p>
<p>这里我们需要登陆下，我们登陆成功即通过服务端验证后服务器会签发一个 Token发送给客户端，你可以理解为一个验证身份的令牌，客户端收到 Token 以后把它存储起来，每次向服务端请求资源的时候都需要带着这个token，服务端收到请求，去验证客户端请求里面带着的 Token，如果验证成功，就向客户端返回请求的数据</p>
<p><img src="https://img-blog.csdn.net/20180807120526739?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RvbmdfMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="效果"></p>
<p>我们可以看到有很多请求，什么图片、脚本资源、svg很多</p>
<p>点击XHR按钮过滤请求只显示XMLHttpRequest方法发送的请求</p>
<p><img src="https://img-blog.csdn.net/20180807120941504?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RvbmdfMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="效果"></p>
<p>过滤之后现在挨着查看，找到返回文章数据的那条请求</p>
<p>大部分数据都是页面或者服务器做判断用的，我们提取这些参数就好</p>
<p>[‘category’][‘name’] 文章分类<br>[‘title’] 文章标题<br>[‘content’] 文章概要<br>[‘originalUrl’] 文章链接<br>[’tags’] 文章标签<br>[‘user’][‘username’] 文章作者</p>
<p><img src="https://img-blog.csdn.net/20180807124337750?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RvbmdfMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="效果"></p>
<p>然后我们查看他的Headers，滑到底部可以看到uery string params是由客户端发给服务器时请求携带的参数</p>
<p><img src="https://img-blog.csdn.net/20180807130603595?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RvbmdfMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="参数"></p>
<p>这些参数里面有个limit是请求的条数，就是你请求多少条就会返回多少条数据</p>
<p>现在上代码<br>需要3个库，除了第一个pymsql以为都是python自带的<br><figure class="highlight capnproto"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql <span class="comment"># 操作mysql的库</span></span><br><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> request, parse <span class="comment">#请求需要的库</span></span><br><span class="line"><span class="keyword">import</span> json <span class="comment"># 处理参数需要的库</span></span><br></pre></td></tr></table></figure></p>
<p>我们先发送请求获取数据<br><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">def juejin_re<span class="string">q(data_num)</span>: <span class="comment"># data_num是请求的条数</span></span><br><span class="line">    url = <span class="string">'https://timeline-merger-ms.juejin.im/v1/get_entry_by_rank'</span> <span class="comment"># 请求的url</span></span><br><span class="line">    req_data = &#123;  <span class="comment"># 请求需要携带的参数</span></span><br><span class="line">        <span class="string">'src'</span>: <span class="string">'web'</span>,</span><br><span class="line">        <span class="string">'uid'</span>: <span class="string">'5b5ebcd1f265da0f60132076'</span>,</span><br><span class="line">        <span class="string">'device_id'</span>: <span class="number">1533608440568</span>,</span><br><span class="line">        <span class="string">'token'</span>: <span class="string">'你的token'</span>,</span><br><span class="line">        <span class="string">'limit'</span>: data_num,</span><br><span class="line">        <span class="string">'category'</span>: <span class="string">'all'</span>,</span><br><span class="line">        <span class="string">'recomment'</span>: <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    req_data = str(parse.urlencode(req_data, <span class="string">'utf-8'</span>)) <span class="comment"># 由于是get请求所以我们在使用parse.urlencode()方法转换编码格式后还需要使用str()方法转换为字符串</span></span><br><span class="line">    json_data = request.urlopen(url+<span class="string">'?'</span>+req_data) <span class="comment"># 拼凑url发送请求</span></span><br><span class="line">    <span class="keyword">print</span>(<span class="string">'数据请求成功'</span>)</span><br><span class="line">    json_data = json_data.read().decode(<span class="string">'utf-8'</span>)  <span class="comment"># 拿到数据转换编码格式</span></span><br><span class="line">    json_data = json.loads(json_data)  <span class="comment"># 使用json.loads()将字符串序列化</span></span><br><span class="line">    json_data = json_data[<span class="string">'d'</span>][<span class="string">'entrylist'</span>] <span class="comment"># 获取到数据列表</span></span><br><span class="line">    sql_data = [] <span class="comment"># 最后储存到数据的变量</span></span><br><span class="line">    <span class="keyword">for</span> item in json_data: <span class="comment"># 循环遍历列表提取需要的数据</span></span><br><span class="line">        tag = [] </span><br><span class="line">        <span class="keyword">for</span> aa in item[<span class="string">'tags'</span>]: <span class="comment"># 提取标签</span></span><br><span class="line">            tag.append(aa[<span class="string">'title'</span>])</span><br><span class="line">        sql_data.append((item[<span class="string">'category'</span>][<span class="string">'name'</span>],  item[<span class="string">'title'</span>], item[<span class="string">'content'</span>], item[<span class="string">'originalUrl'</span>], str(tag), item[<span class="string">'user'</span>][<span class="string">'username'</span>],))</span><br><span class="line">    <span class="keyword">print</span>(<span class="string">'一共有%s条数据'</span> % len(sql_data))</span><br><span class="line">    <span class="keyword">return</span> sql_data</span><br></pre></td></tr></table></figure></p>
<p>打开workbench，这是自带的一款可视化的sql操作工具</p>
<p><img src="https://img-blog.csdn.net/20180802151203471?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RvbmdfMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="参数"></p>
<p>首先我们先新建一个连接<br>点击新建一个连接—–填上连接名字hellosql—–点击ok—–在弹出的弹框中输入你的密码–点击ok</p>
<p><img src="https://img-blog.csdn.net/20180803104853455?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RvbmdfMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="参数"></p>
<p>连接建立后我们新建一个数据库，在左侧红圈空白地方右键—create scheme（新建一个数据库），这地方我已经建了</p>
<p><img src="https://img-blog.csdn.net/20180807133227686?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RvbmdfMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="参数"></p>
<p>输入数据库名字reptiledata—点击apply—出现一个弹框继续点击apply，这样我们就新建了一个数据库</p>
<p><img src="https://img-blog.csdn.net/20180807133445579?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RvbmdfMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="参数"></p>
<p>这是操作数据库的代码，获取到请求的数据后将数据return处理在传给juejin_sql函数，所以把这段代码放在上面那段代码后面<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">juejin_sql</span><span class="params">(sql_data)</span>:</span></span><br><span class="line">    print(<span class="string">'连接数据库'</span>)</span><br><span class="line">    db = pymysql.connect(host=<span class="string">'localhost'</span>,</span><br><span class="line">                        port=<span class="number">3306</span>, <span class="comment"># 端口号</span></span><br><span class="line">                        user=<span class="string">'root'</span>, </span><br><span class="line">                        password=<span class="string">'123456'</span>, <span class="comment"># 密码</span></span><br><span class="line">                        database=<span class="string">'reptiledata'</span>) <span class="comment"># 数据库</span></span><br><span class="line">    cursor = db.cursor() <span class="comment"># 建立一个游标对象</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment">#判断表是否存在，若不存在则新建</span></span><br><span class="line">        cursor.execute(<span class="string">"""CREATE TABLE IF NOT EXISTS juejin(</span></span><br><span class="line"><span class="string">                    category  TEXT,</span></span><br><span class="line"><span class="string">                    title  TEXT,</span></span><br><span class="line"><span class="string">                    content  TEXT,</span></span><br><span class="line"><span class="string">                    originalUrl  TEXT,</span></span><br><span class="line"><span class="string">                    tags  TEXT,</span></span><br><span class="line"><span class="string">                    username TEXT)"""</span>)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        print(<span class="string">"Table 'juejin' already exists"</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">    sql = <span class="string">"""insert into juejin(category, title, content, originalUrl, tags, username)</span></span><br><span class="line"><span class="string">            values (%s, %s, %s, %s, %s, %s)"""</span> <span class="comment"># sql语句</span></span><br><span class="line">    print(<span class="string">'正在批量添加'</span>)</span><br><span class="line">    cursor.executemany(sql, sql_data) <span class="comment"># 批量添加</span></span><br><span class="line">    cursor.execute(<span class="string">'select count(*) from juejin'</span>)</span><br><span class="line">    results = cursor.fetchall() <span class="comment"># 查询全部总条数</span></span><br><span class="line">    print(<span class="string">'数据库目前有%d条数据'</span> % results[<span class="number">0</span>][<span class="number">0</span>])</span><br><span class="line">    db.commit()  <span class="comment"># 对于数据增删改之后一定要提交操作</span></span><br><span class="line">    cursor.close()  <span class="comment"># 关闭游标</span></span><br><span class="line">    print(<span class="string">'操作完成关闭数据库关闭游标'</span>)</span><br><span class="line">    db.close()  <span class="comment"># 关闭数据库连接</span></span><br><span class="line"></span><br><span class="line">juejin_sql(juejin_req(<span class="number">100</span>))</span><br></pre></td></tr></table></figure></p>
<p>欢迎留言交流  (´▽`ʃ♡ƪ)</p>
<p></p></div><div class="meta"><i class="iconfont iconweibiaoti--" title="阅读时长">5</i><i class="iconfont iconwenzi" title="字数">1.4k</i><i class="iconfont iconshijian" title="创建时间">2018-08-07 14:51</i></div></article><article><a class="artititle" href="/2018/06/24/平面&amp;&amp;ui/">UI和平面设计的区别</a><div class="content ellipse"><p></p><p>前段时间自告奋勇的给新项目做UI设计，项目包括一个网站一个app还有一个后台，后台没有设计套用以前的模板主要是将就前端也就是我还有我的小伙伴们,总的花费时间共一周左右</p>
<p>作为曾经的一只平面设计狗，这是我UI处女作  哈哈哈哈！！！</p>
<p>在没做前端之前一直觉得平面和UI都是根据客户的需求设计画图嘛也都是平面图也没什么太大的区别，而且UI还不用像平面设计海报那样做一些复杂抓人眼球的效果，毕竟现在的页面为了追求速度用户体验什么的都是扁平化趋于简洁</p>
<p>这次呢是深切感受到了UI和平面的区别</p>
<p>在学习css开始我就知道UI画的图都是需要前端实现的，设计的时候，除了好的创意，还应该考虑到技术上的可行性，就像这次设计页面的时候是自动把自己代入了前端这个角色所以在设计时更多的考虑到css样式布局js的特效数据渲染什么的还有组件模块的复用问题等等，设计方面远不如平面设计那么自由洒脱</p>
<p>大部分平面设计的作品都是以印刷的平面形式表现，这需要设计师去了解各种材料之间的区别以及不同材料所做出来的成品效果的差别，但在设计方面却是比较自由的，在符合主题的情况下怎么好看怎么漂亮怎么抓人眼球怎么来，很多时候平面设计师一个人对接一个客户就能完成一个作品，而ui除了产品客户以外还得对接前端后端需要遵守一系列的项目流程，而最后的成功也是团队协作达成的效果，这也是很大的一个不同点</p>
<p>UI设计的时候除了考虑前端的实现还有最重要的是用户体验和交互，毕竟网页是会”动”起来的，不管是网站还是其他什么软件都是需要用户去操作，这需要去琢磨研究用户的行为，所以好的ui设计不只是画面的美观还要让用户操作起来感觉舒适简单自由</p>
<p>所以总的来讲呢，平面注重视觉创意，UI却是更注重用户交互，两者在视觉传达方面是共通的，但是在难点侧重点方面却是不一样的</p>
<p>欢迎留言交流  (´▽`ʃ♡ƪ)</p>
<p></p></div><div class="meta"><i class="iconfont iconweibiaoti--" title="阅读时长">2</i><i class="iconfont iconwenzi" title="字数">693</i><i class="iconfont iconshijian" title="创建时间">2018-06-24 22:58</i></div></article><article><a class="artititle" href="/2018/05/23/git/">git常用命令（备忘）</a><div class="content ellipse"><p></p><h1 id="克隆库到相对路径"><a href="#克隆库到相对路径" class="headerlink" title="克隆库到相对路径"></a>克隆库到相对路径</h1><p>git clone <a href="https://github.com/stiekel/hexo-theme-random.git" target="_blank" rel="noopener">https://github.com/stiekel/hexo-theme-random.git</a> themes/random</p>
<p><a href="https://help.github.com/articles/removing-sensitive-data-from-a-repository/" target="_blank" rel="noopener">https://help.github.com/articles/removing-sensitive-data-from-a-repository/</a><br>工作区：电脑里的目录，不包括隐藏的git目录<br>暂存区：add提交到暂存区<br>版本库：commit提交到版本库的分支上</p>
<h1 id="指定用户名和邮箱"><a href="#指定用户名和邮箱" class="headerlink" title="指定用户名和邮箱"></a>指定用户名和邮箱</h1><p>git config  –global  user.name “”<br>git config  –global  user.email “”  </p>
<h1 id="创建版本库"><a href="#创建版本库" class="headerlink" title="创建版本库"></a>创建版本库</h1><p>Cd 版本库的位置/进入文件<br>Mkdir 版本库名<br>pwd（pwd将显示版本库目录和位置）<br>git init（将这个目录变成git可以管理的版本库）</p>
<h1 id="添加文件"><a href="#添加文件" class="headerlink" title="添加文件"></a>添加文件</h1><p>将文件放在版本库目录下<br>git add files （告诉git添加了文件  可以add多个文件）<br>git add –A(如果提交一整个文件夹，add后面加上这条命令)<br>git commit –m “文件说明”（可以一次性提交多个文件）</p>
<h1 id="修改文件"><a href="#修改文件" class="headerlink" title="修改文件"></a>修改文件</h1><p>git status (查看工作区状态)<br>git diff（查看文件具体修改内容）<br>修改文件之后要用add和commit -m重新提交</p>
<h1 id="回退和前进"><a href="#回退和前进" class="headerlink" title="回退和前进"></a>回退和前进</h1><p>git log(查看提交日志历史记录  时间是提交到git的时间  不会显示是哪个文件)<br>git log -pretty=oneline（查看精简的历史记录）<br>git reset –hard HEAD^^(在git中HEAD代表现在的版本，HEAD^代表上一个版本，HEAD^^代表上上个版本，在往上可以用HEAD~100)<br>git reset –hard 版本号（用于当你已经回到之前的版本，想要回到最新的版本）<br>cat files  （查看文件内容）<br>git reflog  （用于你想要回到之前之后某一个版本但不知道那个版本号）</p>
<h1 id="撤销修改"><a href="#撤销修改" class="headerlink" title="撤销修改"></a>撤销修改</h1><p>git checkout – files （两种情况 1、files还没有提交到暂存区但是已经做了修改，这个命令丢弃工作区的更改。2、files提交到暂存区后又做了修改，这个命令可以回到刚提交暂存区的状态）</p>
<p>注意：命令git checkout — readme.txt 中的 — 很重要，如果没有 — 的话，那么命令变成创建分支了。<br>git reset HEAD files（files已经提交到暂存区 这个命令撤销暂存区的文件，让文件回到工作区）</p>
<h1 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h1><p>rm files (删除workspace的文件或者直接在电脑目录里删掉)<br>git add –A<br>git commit –m”修改说明”删除之后不需要复原文件执行这两个命令<br>git checkout – files(用repository里的files替换工作区的files，前提是files已经提交到repository)<br>git rm files(delete the repository files)<br>github删除文件操作    </p>
<h1 id="远程库提交"><a href="#远程库提交" class="headerlink" title="远程库提交"></a>远程库提交</h1><p>ssh-keygen –t rsa –C “email address”(查看sshkey)<br>git remote add origin 远程库地址（绑定远程仓库）<br>git remote rm origin  （用于上一个命令远程仓库填错了，之后重新绑定远程仓库）<br>git push –u origin master（把本地库的内容推送到远程仓库）<br>git push origin master（本地做了提交  用这个命令把最新修改推送到远程库）<br>git oush –u origin +master  (强行更新)<br>git push origin 分支名字  （提交分支修改的内容）</p>
<h1 id="远程库克隆到本地"><a href="#远程库克隆到本地" class="headerlink" title="远程库克隆到本地"></a>远程库克隆到本地</h1><p>git clone远程库地址<br>创建分支与合并分支<br>查看分支：git branch（查看当前分支，会列出所有分支，当前分支前面会添加一个星号）<br>创建分支：git branch name<br>切换分支：git checkout name<br>创建+切换分支：git checkout –b name<br>合并某分支到当前分支：git merge name(在当前分支选择需要合并的分支)</p>
<p>删除分支：git branch –d name<br>分支冲突<br>你在两个分支上修改了内容最后要合并到主分支，照常合并之后查看工作区，在查看文件内容，文件已经更改</p>
<p> git merge –no-ff  -m “注释” name<br>通常合并分支时，git一般使用”Fast forward”模式，在这种模式下，删除分支后，会丢掉分支信息，现在我们来使用带参数 –no-ff来禁用”Fast forward”模式。</p>
<p>查看远程库的信息 git remote<br>查看远程库的详细信息  git remote –v</p>
<p>欢迎留言交流  (´▽`ʃ♡ƪ)</p>
<p></p></div><div class="meta"><i class="iconfont iconweibiaoti--" title="阅读时长">3</i><i class="iconfont iconwenzi" title="字数">1k</i><i class="iconfont iconshijian" title="创建时间">2018-05-23 11:10</i></div></article><article><a class="artititle" href="/2018/05/16/Cordova add android 报错/">Cordova add android 报错4种解决方法</a><div class="content ellipse"><p></p><h2 id="方法一：可能网络有问题，换一个源（对我没有用）"><a href="#方法一：可能网络有问题，换一个源（对我没有用）" class="headerlink" title="方法一：可能网络有问题，换一个源（对我没有用）"></a>方法一：可能网络有问题，换一个源（对我没有用）</h2><p>npm i nrm -g 安装nrm</p>
<p>nrm ls 查看当前nrm内置的npm源</p>
<p>nrm use cnpm 切换源</p>
<h2 id="方法二：可能版本有问题（对我没有用）"><a href="#方法二：可能版本有问题（对我没有用）" class="headerlink" title="方法二：可能版本有问题（对我没有用）"></a>方法二：可能版本有问题（对我没有用）</h2><p>npm view cordova-android   查看可选版本</p>
<p>cordova platform add <a href="mailto:android@7.0.0" target="_blank" rel="noopener">android@7.0.0</a>  切换版本</p>
<h2 id="方法三：卸载cordva重新安装（对我没有用）"><a href="#方法三：卸载cordva重新安装（对我没有用）" class="headerlink" title="方法三：卸载cordva重新安装（对我没有用）"></a>方法三：卸载cordva重新安装（对我没有用）</h2><p>运行命令：npm uninstall cordova -g<br>删除文件夹：C：\ Users \ your-name \ .cordova<br>重新安装cordova：npm install -g cordova<br>现在转到项目文件夹，然后再试一次：cordova platform add android<br>方法四：修改环境变量（解决）<br>在环境变量path内加入C:\Windows\System32</p>
<h1 id="如果以上方法对你没有用，可以用cordova-d-platform-add-android调试看下提示信息"><a href="#如果以上方法对你没有用，可以用cordova-d-platform-add-android调试看下提示信息" class="headerlink" title="如果以上方法对你没有用，可以用cordova -d platform add android调试看下提示信息"></a>如果以上方法对你没有用，可以用cordova -d platform add android调试看下提示信息</h1><p>相关博文：Android SDK 环境配置/Cordova环境搭建打包apk各种踩坑报错系列</p>
<p>欢迎留言交流  (´▽`ʃ♡ƪ)</p>
<p></p></div><div class="meta"><i class="iconfont iconweibiaoti--" title="阅读时长">1</i><i class="iconfont iconwenzi" title="字数">219</i><i class="iconfont iconshijian" title="创建时间">2018-05-16 16:29</i></div></article><article><a class="artititle" href="/2018/05/13/阿里云服务器/">阿里云服务器</a><div class="content ellipse"><p></p><p>新手入门弄了一个阿里云服务器自己学习使用</p>
<p>在官网上点击远程链接出现了终端管理的画面，安装官网的步骤一步一步的在本机尝试远程连接（系统win7），输入ip地址，用户名，点击确定，弹框输密码</p>
<p>然后就告诉我：你的凭据不工作，之前用于链接到***的凭据无法工作，请输入新凭据</p>
<p>之后各种百度，尝试各种方法</p>
<p>可能导致此故障的原因</p>
<p>1、客户端本地网络异常 [出现概率：3%]</p>
<p>这个就…</p>
<p>2、重置实例密码，未重启实例 [出现概率：7%] 找到原因，自己手贱改了密码不知道要重启<br>故障现象：有实例密码修改记录，但无重启实例记录。</p>
<p>可能原因：您修改了实例密码，但是未重启 ECS 实例。</p>
<p>解决方法：</p>
<p>登录云服务器管理控制台。<br>单击左侧导航栏中的 实例。<br>单击页面顶部的地域。<br>选择需要的实例。单击 重启。<br>在弹出的提示框中，选择 重启，单击 确定。</p>
<p>3、防火墙配置异常（Windows 2008&amp;2012）[出现概率：10%]</p>
<p>前提条件：您只有在已授权可关闭防火墙的情况下，才能做该项排查。<br>故障现象：远程无法连接，关闭 防火墙 后连接恢复。<br>解决方法：调整防火墙配置策略，具体操作详见官网：ECS Windows 远程连接之防火墙设置。<br>完成操作后，请再进行远程连接。</p>
<p>4、安全组公网规则 [出现概率：8%]</p>
<p>故障现象：ECS 服务器无法ping通，排查防火墙、网卡 IP 配置无误，回滚系统后仍然无法ping通。<br>可能原因：ECS 实例安全组默认的公网规则被删除。<br>解决方法：重新配置 ECS 实例的安全组公网规则，具体操作详见 ECS实例安全组默认的公网规则被删除导致无法ping通。</p>
<p>5、远程访问端口配置异常 [出现概率：10%]</p>
<p>故障现象：远程无法连接，远程访问端口非默认端口。<br>解决方法：<br>运行注册表，然后查看此文档<a href="https://yq.aliyun.com/articles/33712" target="_blank" rel="noopener">https://yq.aliyun.com/articles/33712</a></p>
<p>6、CPU 负载过高 [出现概率：9%]</p>
<p>故障现象：CPU 负载过高导致系统无法进行远程连接。</p>
<p>附上官网关于连接失败的的文档：</p>
<p><a href="https://help.aliyun.com/knowledge_detail/40849.html?spm=a2c4g.11186623.4.1.zfSNDN" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/40849.html?spm=a2c4g.11186623.4.1.zfSNDN</a></p>
<p><a href="https://help.aliyun.com/knowledge_detail/50982.html" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/50982.html</a></p>
<p>其他楼主遇到的这格问题的一些解决方法，百度搜来大多都是差不多，这个楼主的方法蛮全的</p>
<p><a href="https://blog.csdn.net/sun15732621550/article/details/50444398" target="_blank" rel="noopener">https://blog.csdn.net/sun15732621550/article/details/50444398</a></p>
<p>欢迎留言交流  (´▽`ʃ♡ƪ)</p>
<p></p></div><div class="meta"><i class="iconfont iconweibiaoti--" title="阅读时长">2</i><i class="iconfont iconwenzi" title="字数">695</i><i class="iconfont iconshijian" title="创建时间">2018-05-13 13:13</i></div></article><article><a class="artititle" href="/2018/01/31/angular_constant&amp;filter/">angular之constant和filter</a><div class="content ellipse"><p></p><h1 id="背景介绍"><a href="#背景介绍" class="headerlink" title="背景介绍"></a>背景介绍</h1><p>angular是什么：AngularJS最初由Misko Hevery和Adam Abrons于2009年开发，后来成为了Google公司的项目。AngularJS弥补了HTML在构建应用方面的不足，其通过使用标识符（directives）结构，来扩展Web应用中的HTML词汇，使开发者可以使用HTML来声明动态内容，从而使得Web开发和测试工作变得更加容易。</p>
<p>constant，可以算作angular的全局数据，想要使用的话，只需要在控制器注入即可。</p>
<p>$filter，angular的过滤器，如果想要在控制器里面使用，也是注入，然后调用，而html中的数据过滤，直接键入过滤器名称和对应值即可。</p>
<h1 id="知识剖析"><a href="#知识剖析" class="headerlink" title="知识剖析"></a>知识剖析</h1><p>每当搜索constant时候，总会连带出现value的说明。</p>
<p>两者都可以作为全局变量使用，但是有两点不同：</p>
<p>1.value不可以在config里注入，但是constant可以。</p>
<p>2.value可以修改，但是constant不可以修改，一般直接用constant配置一些需要经常使用的数据。</p>
<p>下面是简单的应用例子：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">angular.module(<span class="string">'myApp'</span>, [])</span><br><span class="line">.constant(<span class="string">'apiKey'</span>, <span class="string">'123123123'</span>)</span><br><span class="line">.value(<span class="string">'FBid'</span>,<span class="string">'231231231'</span>)</span><br><span class="line">.controller(<span class="string">'myController'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope,apiKey,FBid</span>)</span>&#123;</span><br><span class="line">$scope.a = apiKey;</span><br><span class="line">$scope.b = FBid;</span><br><span class="line">&#125;)</span><br><span class="line">.config(<span class="function"><span class="keyword">function</span>(<span class="params">apiKey</span>) </span>&#123;</span><br><span class="line"><span class="comment">//在这里apiKey将被赋值为123123123</span></span><br><span class="line"><span class="comment">//就像上面设置的那样</span></span><br><span class="line">&#125;)</span><br><span class="line">.config(<span class="function"><span class="keyword">function</span>(<span class="params">FBid</span>) </span>&#123;</span><br><span class="line"><span class="comment">//这将抛出一个错误，未知的provider: FBid</span></span><br><span class="line"><span class="comment">//因为在config函数内部无法访问这个值</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>filter是用来格式化数据用的<br><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">基本原型：&#123;&#123;<span class="keyword">expression</span> | <span class="keyword">filter</span>&#125;&#125;</span><br><span class="line"></span><br><span class="line">多个<span class="keyword">filter</span>连用版：&#123;&#123;<span class="keyword">expression</span> | filter1 | filter2&#125;&#125;</span><br><span class="line"></span><br><span class="line">传入参数版：&#123;&#123;<span class="keyword">expression</span> | <span class="keyword">filter</span>:<span class="number">1</span>:<span class="number">2</span>&#125;&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h1><p>如何使用angular中constant和$filter？</p>
<h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><p>4.1 AngularJS内建了一些常用的filter：</p>
<p>1、格式化货币：<br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; <span class="number">12</span> | currency&#125;&#125;  //将<span class="number">12</span>格式化为货币，默认单位符号为<span class="string">'$'</span>,小数默认<span class="number">2</span>位</span><br><span class="line"></span><br><span class="line">&#123;&#123; <span class="number">12.45</span> | currency:<span class="string">'￥'</span>&#125;&#125; //将<span class="number">12.45</span>格式化为货币，使用自定义单位符号为<span class="string">'￥'</span>,小数默认<span class="number">2</span>位</span><br><span class="line"></span><br><span class="line">&#123;&#123; <span class="number">12.45</span> | currency:<span class="string">'CHY￥'</span>:<span class="number">1</span>&#125;&#125; //将<span class="number">12.45</span>格式化为货币，使用自定义单位符号为<span class="string">'CHY￥'</span>,小数指定<span class="number">1</span>位,会执行四舍五入操作</span><br><span class="line"></span><br><span class="line">&#123;&#123; <span class="number">12.55</span> | currency:undefined:<span class="number">0</span>&#125;&#125; //将<span class="number">12.55</span>格式化为货币， 不改变单位符号， 小数部分将四舍五入</span><br></pre></td></tr></table></figure></p>
<p>2、格式化日期：<br><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; <span class="number">1304375948024</span> | <span class="keyword">date</span>:<span class="string">'medium'</span>&#125;&#125;<span class="comment">//May 03, 2011 06:39:08 PM</span></span><br><span class="line"></span><br><span class="line">&#123;&#123; <span class="number">1304375948024</span> | <span class="keyword">date</span> &#125;&#125;<span class="comment">//结果：May 3, 2011</span></span><br><span class="line"></span><br><span class="line">&#123;&#123; <span class="number">1304375948024</span> | <span class="keyword">date</span>:<span class="string">"MM/dd/yyyy @ h:mma"</span> &#125;&#125;<span class="comment">//结果：05/03/2011 @ 6:39AM</span></span><br><span class="line"></span><br><span class="line">&#123;&#123; <span class="number">1304375948024</span> | <span class="keyword">date</span>:<span class="string">"yyyy-MM-dd hh:mm:ss"</span> &#125;&#125;<span class="comment">//结果：2011-05-03 06:39:08</span></span><br></pre></td></tr></table></figure></p>
<p>3、过滤数组：<br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$scope.arr = [&#123;<span class="string">"age"</span>: <span class="number">20</span>,<span class="string">"id"</span>: <span class="number">10</span>,<span class="string">"name"</span>: <span class="string">"iphone"</span>&#125;, &#123;<span class="string">"age"</span>: <span class="number">12</span>,<span class="string">"id"</span>: <span class="number">11</span>,<span class="string">"name"</span>: <span class="string">"sunm xing"</span>&#125;, &#123;<span class="string">"age"</span>: <span class="number">44</span>,<span class="string">"id"</span>: <span class="number">12</span>,<span class="string">"name"</span>: <span class="string">"test abc"</span>&#125; ]</span><br><span class="line"></span><br><span class="line">&#123;&#123;arr | filter:<span class="string">'s'</span>&#125;&#125;  //查找含有有s的行//上例结果：[&#123;<span class="string">"age"</span>:<span class="number">12</span>,<span class="string">"id"</span>:<span class="number">11</span>,<span class="string">"name"</span>:<span class="string">"sunm xing"</span>&#125;,&#123;<span class="string">"age"</span>:<span class="number">44</span>,<span class="string">"id"</span>:<span class="number">12</span>,<span class="string">"name"</span>:<span class="string">"test abc"</span>&#125;]</span><br><span class="line"></span><br><span class="line">&#123;&#123;arr | filter:&#123;<span class="string">'name'</span>:<span class="string">'ip'</span>&#125; &#125;&#125;//查找name like ip的行//上例结果:[&#123;<span class="string">"age"</span>:<span class="number">20</span>,<span class="string">"id"</span>:<span class="number">10</span>,<span class="string">"name"</span>:<span class="string">"iphone"</span>&#125;]</span><br></pre></td></tr></table></figure></p>
<p>4、将对象格式化成标准的JSON格式：<br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; &#123;name:<span class="string">'Jack'</span>, age: <span class="number">21</span>&#125; | json&#125;&#125;</span><br></pre></td></tr></table></figure></p>
<p>5、字符串，对象截取：<br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; <span class="string">"i love tank"</span> | limitTo:<span class="number">6</span> &#125;&#125;//结果：i love</span><br><span class="line"></span><br><span class="line">&#123;&#123; <span class="string">"i love tank"</span> | limitTo:-<span class="number">4</span> &#125;&#125;//结果：tank</span><br><span class="line"></span><br><span class="line">&#123;&#123; [&#123;<span class="string">"age"</span>: <span class="number">20</span>,<span class="string">"id"</span>: <span class="number">10</span>,<span class="string">"name"</span>: <span class="string">"iphone"</span>&#125;, &#123;<span class="string">"age"</span>: <span class="number">12</span>,<span class="string">"id"</span>: <span class="number">11</span>,<span class="string">"name"</span>: <span class="string">"sunm xing"</span>&#125;, &#123;<span class="string">"age"</span>: <span class="number">44</span>,<span class="string">"id"</span>: <span class="number">12</span>,<span class="string">"name"</span>: <span class="string">"test abc"</span>&#125; ] | limitTo:<span class="number">1</span> &#125;&#125;//结果：[&#123;<span class="string">"age"</span>:<span class="number">20</span>,<span class="string">"id"</span>:<span class="number">10</span>,<span class="string">"name"</span>:<span class="string">"iphone"</span>&#125;]</span><br></pre></td></tr></table></figure></p>
<p>6、大小写转换：<br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">China has joined the &#123;&#123; <span class="string">"wto"</span> | uppercase &#125;&#125;.</span><br><span class="line">We all need &#123;&#123; <span class="string">"MONEY"</span> | lowercase &#125;&#125;.</span><br></pre></td></tr></table></figure></p>
<p>7、数值类：<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; <span class="number">1.234567</span> | <span class="built_in">number</span>:<span class="number">1</span> &#125;&#125;  <span class="comment">//结果：1.2</span></span><br><span class="line">&#123;&#123; <span class="number">1234567</span> | <span class="built_in">number</span> &#125;&#125;    <span class="comment">//结果：1,234,567</span></span><br></pre></td></tr></table></figure></p>
<p>8、对象排序：<br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$scope.arr = [&#123;<span class="string">"age"</span>: <span class="number">20</span>,<span class="string">"id"</span>: <span class="number">10</span>,<span class="string">"name"</span>: <span class="string">"iphone"</span>&#125;, &#123;<span class="string">"age"</span>: <span class="number">12</span>,<span class="string">"id"</span>: <span class="number">11</span>,<span class="string">"name"</span>: <span class="string">"sunm xing"</span>&#125;, &#123;<span class="string">"age"</span>: <span class="number">44</span>,<span class="string">"id"</span>: <span class="number">12</span>,<span class="string">"name"</span>: <span class="string">"test abc"</span>&#125; ]</span><br><span class="line">&#123;&#123;arr | orderBy:<span class="string">'id'</span>:true &#125;&#125;//根id降序排</span><br><span class="line">&#123;&#123;arr | orderBy:<span class="string">'id'</span> &#125;&#125;//根据id升序排</span><br></pre></td></tr></table></figure></p>
<h2 id="自定义filter方法"><a href="#自定义filter方法" class="headerlink" title="自定义filter方法"></a>自定义filter方法</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">我们来自定义选择省份和职位</span><br><span class="line"></span><br><span class="line">HTML代码：</span><br><span class="line">&#123;&#123;<span class="number">1</span> | provinceFilter&#125;&#125;</span><br><span class="line">&#123;&#123;<span class="number">6</span> | fMes:<span class="string">'positionList'</span>:<span class="string">'type'</span>&#125;&#125;</span><br><span class="line"></span><br><span class="line">app.js:</span><br><span class="line">angular.module(<span class="string">'myApp'</span>,[])</span><br><span class="line"><span class="comment">//数组</span></span><br><span class="line">.controller(<span class="string">'personCtrl'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123;</span><br><span class="line">  $scope.arr=[</span><br><span class="line">    &#123;<span class="string">"age"</span>:<span class="number">20</span>,<span class="string">"id"</span>:<span class="number">10</span>,<span class="string">"name"</span>:<span class="string">"iphone"</span>&#125;,</span><br><span class="line">    &#123;<span class="string">"age"</span>:<span class="number">12</span>,<span class="string">"id"</span>:<span class="number">11</span>,<span class="string">"name"</span>:<span class="string">"sunm xing"</span>&#125;,</span><br><span class="line">    &#123;<span class="string">"age"</span>:<span class="number">44</span>,<span class="string">"id"</span>:<span class="number">12</span>,<span class="string">"name"</span>:<span class="string">"test abc"</span>&#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br><span class="line"><span class="comment">//自定义选择省份</span></span><br><span class="line">.filter(<span class="string">'provinceFilter'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">PROVINCE</span>)</span>&#123;<span class="comment">//省</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">id</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(id!=<span class="literal">undefined</span>&amp;&amp;id!=<span class="string">''</span>)&#123;</span><br><span class="line">      <span class="keyword">var</span>  name;</span><br><span class="line">      angular.forEach(PROVINCE,<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(data.ProID==id)&#123;</span><br><span class="line">              name=data.ProName;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">  <span class="keyword">return</span>  name;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//自定义选择职位</span></span><br><span class="line"></span><br><span class="line">.filter(<span class="string">'fMes'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">con</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">input,field,str</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(input&gt;=<span class="number">0</span>) &#123;<span class="comment">//input != undefined &amp;&amp;</span></span><br><span class="line">    <span class="keyword">var</span> name;</span><br><span class="line">    <span class="keyword">var</span> aMes=con[field];</span><br><span class="line">    angular.forEach(aMes,<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(data[str]==input)&#123;</span><br><span class="line">          name=data.name;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> name;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;<span class="built_in">console</span>.log(<span class="string">'false'</span>);&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">constant.js</span><br><span class="line">angular.module(<span class="string">"myApp"</span>) .value(<span class="string">'val'</span>,&#123;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//公司编辑常量组</span></span><br><span class="line">.constant(<span class="string">'con'</span>,&#123;</span><br><span class="line"><span class="comment">//职业分类</span></span><br><span class="line">positionList:[</span><br><span class="line">  &#123;<span class="attr">type</span>:<span class="number">0</span>,<span class="attr">name</span>:<span class="string">'ui设计师'</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">type</span>:<span class="number">1</span>,<span class="attr">name</span>:<span class="string">'运维工程师'</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">type</span>:<span class="number">2</span>,<span class="attr">name</span>:<span class="string">'产品'</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">type</span>:<span class="number">3</span>,<span class="attr">name</span>:<span class="string">'Java工程师'</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">type</span>:<span class="number">4</span>,<span class="attr">name</span>:<span class="string">'IOS工程师'</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">type</span>:<span class="number">5</span>,<span class="attr">name</span>:<span class="string">'Android工程师'</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">type</span>:<span class="number">6</span>,<span class="attr">name</span>:<span class="string">'Web前端工程师'</span>&#125;</span><br><span class="line">]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>显示的结果是：Web前端工程师，改变type值，显示相应的职位。</p>
<h1 id="拓展思考"><a href="#拓展思考" class="headerlink" title="拓展思考"></a>拓展思考</h1><p>AngularJS的内置过滤器有哪些？</p>
<h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><p>参考一：angularJS constant和value<br>参考二：AngularJS的Filter用法详解</p>
<h1 id="更多提问"><a href="#更多提问" class="headerlink" title="更多提问"></a>更多提问</h1><p>1、constant函数取值，和直接用常量名有什么区别</p>
<p>答：大多数情况直接用常量名，但是在angular中，使用constant的字段约定与后台进行数据交互的时候很方便，结构更加清晰。constant()函数和直接使用常量名输出的效果是一样的，但函数可以动态的输出不同的常量，在使用上要灵活、方便。</p>
<p>2、filter怎么去掉时间的秒<br><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">答：&#123;&#123;<span class="keyword">date</span> | <span class="keyword">date</span> : <span class="string">'yyyy-MM-dd hh:mm:ss EEEE'</span>&#125;&#125;</span><br><span class="line">参数用来指定所要的格式，y M d h m s E 分别表示 年 月 日 时 分 秒 星期，你可以自由组合它们</span><br></pre></td></tr></table></figure></p>
<p>3、什么情况下使用filter</p>
<p>答：常用的就是一个date的格式转换，表格中进行排序、还有大量的一些约定字段，使用自定义的filter。</p>
<p></p></div><div class="meta"><i class="iconfont iconweibiaoti--" title="阅读时长">6</i><i class="iconfont iconwenzi" title="字数">1.5k</i><i class="iconfont iconshijian" title="创建时间">2018-01-31 20:58</i></div></article><article><a class="artititle" href="/2018/01/18/NPM&amp;CNPM/">如何使用NPM？CNPM又是什么？</a><div class="content ellipse"><p></p><h1 id="背景介绍"><a href="#背景介绍" class="headerlink" title="背景介绍"></a>背景介绍</h1><p>什么是npm</p>
<p>npm（node package manager）是nodejs的包管理器，用于node插件管理（包括安装、卸载、管理依赖等）, NPM是随同NodeJS一起安装的包管理工具，能解决NodeJS代码部署上的很多问题，它是 Node 获得成功的重要原因之一。常见的使用场景有以下几种：</p>
<p>允许用户从NPM服务器下载别人编写的第三方包到本地使用。</p>
<p>允许用户从NPM服务器下载并安装别人编写的命令行程序到本地使用。</p>
<p>允许用户将自己编写的包或命令行程序上传到NPM服务器供别人使用。</p>
<p>由于新版的nodejs已经集成了npm，所以之前npm也一并安装好了。同样可以通过输入 “npm -v” 来测试是否成功安装</p>
<p>为啥我们需要一个包管理工具呢？因为我们在Node.js上开发时，会用到很多别人写的JavaScript代码。如果我们要使用别人写的某个包，每次都根据名称搜索一下官方网站，下载代码，解压，再使用，非常繁琐。于是一个集中管理的工具应运而生：大家都把自己开发的模块打包后放到npm官网上，如果要使用，直接通过npm安装就可以直接用，不用管代码存在哪，应该从哪下载。</p>
<p>更重要的是，如果我们要使用模块A，而模块A又依赖于模块B，模块B又依赖于模块X和模块Y，npm可以根据依赖关系，把所有依赖的包都下载下来并管理起来。否则，靠我们自己手动管理，肯定既麻烦又容易出错。</p>
<p>什么是cnpm?</p>
<p>因为npm安装插件是从国外服务器下载，受网络影响大，可能出现异常，所以我们乐于分享的淘宝团队干了这事。来自官网：“这是一个完整 npmjs.org 镜像，你可以用此代替官方版本(只读)，同步频率目前为 10分钟 一次以保证尽量与官方服务同步。”</p>
<h1 id="知识剖析"><a href="#知识剖析" class="headerlink" title="知识剖析"></a>知识剖析</h1><p>NPM常用指令</p>
<p>1、npm install moduleNames：安装Node模块</p>
<p>安装完毕后会产生一个node_modules目录，其目录下就是安装的各个node模块。</p>
<p>node的安装分为全局模式和本地模式。</p>
<p>一般情况下会以本地模式运行，包会被安装到和你的应用程序代码的本地node_modules目录下。</p>
<p>在全局模式下，Node包会被安装到Node的安装目录下的node_modules下</p>
<p>一些npm的简单命令就不多说了</p>
<p>为什么要保存至PACKAGE.JSON？</p>
<p>因为node插件包非常大，版本庞杂，所以不加入package信息，模块间的依赖变得非常困难，将配置信息写入package.json并将其加入版本管理，其他开发者对应下载即可（命令提示符执行npm install，则会根据package.json下载所有需要的包）。 每个项目的根目录下面，一般都有一个package.json文件，定义了这个项目所需要的各种模块，以及项目的配置信息（比如名称、版本、许可证等元数据）。npm install 命令根据这个配置文件，自动下载所需的模块，也就是配置项目所需的运行和开发环境。</p>
<p>PACKAGE.JSON 属性说明：</p>
<p>name - 包名。（不要把node或者js放在名字中）</p>
<p>version - 包的版本号。</p>
<p>dependencies - 项目运行所依赖的模块</p>
<p>devDependencies - 项目开发所需要的模块</p>
<p>bin - 这需要在你的package.json中提供一个bin字段，它是一个命令名和本地文件名的映射。在安装时，如果是全局安装，npm将会使用符号链接把这些文件链接到prefix/bin，如果是本地安装，会链接到./node_modules/.bin/</p>
<p>使用npm卸载插件：npm uninstall &lt; name &gt; [-g] [–save-dev] PS：不要直接删除本地插件包</p>
<p>使用npm更新插件：npm update &lt; name &gt; [-g] [–save-dev] </p>
<p>更新全部插件：npm update [–save-dev] </p>
<p>查看npm帮助：npm help </p>
<p>查看当前目录已安装插件：npm list </p>
<p>PS：npm安装插件过程：从<a href="http://registry.npmjs.org下载对应的插件包（该网站服务器位于国外，所以经常下载缓慢或出现异常），解决办法就是cnpm" target="_blank" rel="noopener">http://registry.npmjs.org下载对应的插件包（该网站服务器位于国外，所以经常下载缓慢或出现异常），解决办法就是cnpm</a></p>
<p>CNPM介绍：</p>
<p>官方网址：<a href="http://npm.taobao.org" target="_blank" rel="noopener">http://npm.taobao.org</a></p>
<p>安装：命令提示符执行npm install cnpm -g –registry=<a href="https://registry.npm.taobao.org" target="_blank" rel="noopener">https://registry.npm.taobao.org</a></p>
<p>注意：安装完后最好查看其版本号cnpm -v或关闭命令提示符重新打开，安装完直接使用有可能会出现错误 </p>
<p>PS：cnpm跟npm用法完全一致，只是在执行命令时将npm改为cnpm。</p>
<h1 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h1><p>bower 和 npm有什么区别</p>
<h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><p>npm 是伴随 Node.js 出现的一个包管理器，最开始只能支持 Node.js 的模块管理，但是后来， npm 官网经过一次改版，打出的口号是，javascript 的包管理器，所以，其已经不在局限于是 Node.js 的模块管理了，已经通用到了所有 js 的包管理工具了，可以说，前后通吃了。</p>
<p>bower 的话，从一开始，就是专门为前端表现设计的包管理器，一切全部为前端考虑的。npm 和 bower 的最大区别，就是 npm 支持嵌套地依赖管理，而 bower只能支持扁平的依赖（嵌套的依赖，由 程序员自己解决）。</p>
<p>嵌套依赖，指的就是，你依赖的软件包，还有它自己的依赖，好像摘葡萄，一摘一大串。在服务器环境的时候，这并没什么关系，因为存储空间够大，一切代码都是本地运行，只要解决完依赖就行了， 但是到了用户产品的浏览器里，就很成问题了，你不能让用户去下载好几M的js代码，那就太糟糕了。在这个情况下，就需要程序员自己手动解决用到的类库的嵌套依赖问题。比如确保各种各样的插件 都依赖同一个版本的jQuery。</p>
<h1 id="扩展思考"><a href="#扩展思考" class="headerlink" title="扩展思考"></a>扩展思考</h1><p>cnpm有哪些问题？</p>
<p>1.cnpm 的仓库只是 npm 仓库的一个拷贝，它不承担 publish 工作，所以你用 cnpm publish 命令会执行失败的</p>
<p>2.不仅是 publish 会执行失败，其它的需要注册用户(npm adduser)、或者修改 package 状态等命令都无法用 cnpm</p>
<h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><ul>
<li><p>npm 模块安装机制简介</p>
</li>
<li><p>开发者对 npm 公司不满，unpublish 了自己的所有模块</p>
</li>
<li><p>npm的一些常用命令</p>
</li>
<li><p>bower 和 npm 的区别详细介绍</p>
</li>
</ul>
<h1 id="更多提问"><a href="#更多提问" class="headerlink" title="更多提问"></a>更多提问</h1><p>Q:全局安装和本地安装的区别？</p>
<p>A:因为全局模式安装,包可以供所有的程序使用。本地安装则不可以。 npm 默认会把包安装到当前目录下。这反映了 npm 不同的设计哲学。如 果把包安装到全局,可以提高程序的重复利用程度,避免同样的内容的多 份副本,但坏处是难以处理不同的版本依赖。如果把包安装到当前目录, 或者说本地,则不会有不同程序依赖不同版本的包的冲突问题,同时还减 轻了包作者的 API 兼容性压力,但缺陷则是同一个包可能会被安装许多次。</p>
<p>Q:为什么进行了全局安装还要进行本地安装</p>
<p>A:为什么进行了全局安装还要进行本地安装</p>
<p> 1、在js实例代码中，默认下node.js会在NODE_PATH和目前js所在项目下的node_modules文件夹下去寻找模块，因此，如果只是全局安装，不能直接通过require()的方式去引用模块，需要手动解决包路径的配置问题，当然你也可以复制全局安装的node_modules文件夹到项目下，还有办法可以选择将环境变量的NODE_PATH设置为C:\Program Files\nodejs。 2.对于包的更新不好管理，可能你需要为每个包重新命名，如<a href="mailto:gulp@3.8.1" target="_blank" rel="noopener">gulp@3.8.1</a>、<a href="mailto:gulp@3.9.1" target="_blank" rel="noopener">gulp@3.9.1</a>…，为了区别不同项目使用指定的包，保证模块之间的相互依赖，区别每个项目正常运行</p>
<p>Q：如何在package.JSON的dependencies和devDependencies写入信息</p>
<p>A:npm install –save babel-cli和npm install -dev babel-cli使用这两个命令安装后可自动写入文件</p>
<p>npm install –save-dev babel-cli也可以在一起用</p>
<p></p></div><div class="meta"><i class="iconfont iconweibiaoti--" title="阅读时长">7</i><i class="iconfont iconwenzi" title="字数">2.2k</i><i class="iconfont iconshijian" title="创建时间">2018-01-18 21:35</i></div></article><article><a class="artititle" href="/2018/01/04/JSON/">JSON是什么，如何处理转义？</a><div class="content ellipse"><p></p><h1 id="背景介绍"><a href="#背景介绍" class="headerlink" title="背景介绍"></a>背景介绍</h1><p>JSON一种数据交换格式。在JSON出现之前， 大家一直用XML来传递数据。因为XML是一种纯文本格式，所以它适合在网络上交换数据。XML本身不算复杂，但是， 加上DTD、XSD、XPath、XSLT等一大堆复杂的规范以后，即使你努力钻研几个月，也未必搞得清楚XML的规范。</p>
<p>终于，在2002年的一天，道格拉斯·克罗克福特发明了JSON这种超轻量级的数据交换格式。</p>
<p>由于JSON非常简单，很快就风靡Web世界。而在JavaScript中，我们可 以直接使用JSON，因为JavaScript内置了JSON的解析。把任何JavaScript对象变成JSON，就是把这个对象序列化成一个JSON 格式的字符串，这样才能够通过网络传递给其他计算机。如果我们收到一个JSON格式的字符串，只需要把它反序列化成一个JavaS cript对象，就可以在JavaScript中直接使用这个对象了。</p>
<h1 id="知识剖析"><a href="#知识剖析" class="headerlink" title="知识剖析"></a>知识剖析</h1><p>JSON语法</p>
<p>数据在名称/值对中</p>
<p>数据由逗号分隔</p>
<p>大括号保存对象</p>
<p>中括号保存数组</p>
<p>JSON值</p>
<p>数字(整数/浮点数)</p>
<p>字符串(双引号)</p>
<p>布尔值(true/false)</p>
<p>数组(中括号中)</p>
<p>对象(大括号中)</p>
<p>null</p>
<p>实例</p>
<p>JSON 数据的书写格式是：名称/值对。</p>
<p>名称/值对组合中的名称写在前面（在双引号中），值对写在后面，中间用冒号隔开，</p>
<p>其中 值 可以是：数字（整数或浮点数）、字符串（在双引号中）、逻辑值（true或false）、数组（在方括号中）、对象（在花括号中）、null</p>
<p>使用方式：</p>
<p>varjson= {“name”:”myname”,”password”:123456}</p>
<p>或者是嵌套使用<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">  myObj = &#123;</span><br><span class="line"></span><br><span class="line">      <span class="string">"name"</span>:<span class="string">"runoob"</span>,</span><br><span class="line"></span><br><span class="line">      <span class="string">"alexa"</span>:<span class="number">10000</span>,</span><br><span class="line"></span><br><span class="line">      <span class="string">"sites"</span>: &#123;</span><br><span class="line"></span><br><span class="line">          <span class="string">"site1"</span>:<span class="string">"www.runoob.com"</span>,</span><br><span class="line"></span><br><span class="line">          <span class="string">"site2"</span>:<span class="string">"m.runoob.com"</span>,</span><br><span class="line"></span><br><span class="line">          <span class="string">"site3"</span>:<span class="string">"c.runoob.com"</span></span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(myObj)</span><br><span class="line"></span><br><span class="line"><span class="comment">//输出结果：</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span> &#123;<span class="attr">name</span>: <span class="string">"runoob"</span>, <span class="attr">alexa</span>: <span class="number">10000</span>, <span class="attr">sites</span>: <span class="built_in">Object</span>&#125;</span><br></pre></td></tr></table></figure></p>
<p>转义概述</p>
<p>为什么需要转义？在js中我们使用的js对象进行处理，但是在与后端数据交换的时候，我们发送规定的json格式的字符串，所以在给后端发送或接受数据的时候，需要</p>
<p>{name:”myname”,password:123456} &lt;–&gt; “{“name”:”myname”,”password”:123456}”</p>
<p>其中json字符串转js对象，调用parse方法：</p>
<p>js对象 = JSON.parse(json字符串);</p>
<p>js对象转json字符串，调用stringify方法：</p>
<p>json字符串 = JSON.stringify(js对象);</p>
<h1 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h1><p>除了以上两种方法还有什么可以转化</p>
<h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">用eval_r(<span class="string">'('</span>+json字符串+<span class="string">')'</span>)这个方法可以实现json计算</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> value = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> js = <span class="string">'&#123;"data1":"hello","data2":value++&#125;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(js);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> data1 = <span class="built_in">eval</span>(<span class="string">"("</span>+js+<span class="string">")"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(data1);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> data2=<span class="built_in">JSON</span>.stringify(js);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(data2);</span><br><span class="line"><span class="string">`</span></span><br></pre></td></tr></table></figure>
<p>eval_r获取的json对象的值中，如果有执行代码，也将照样执行！所以若不能保证数据的安全性，不要使用eval_r方法进行转义。</p>
<h1 id="扩展思考"><a href="#扩展思考" class="headerlink" title="扩展思考"></a>扩展思考</h1><p>我们常看到{name:”myname”,password:123456}和{“name”:”myname”,”password”:123456}这样两种格式，即js对象和json，然而js对象和json有什么不一样的地方？</p>
<p>一个栗子大家可以自己在浏览器上运行一下<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> jso1=&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">a:<span class="string">"name"</span>,<span class="string">"b"</span>:<span class="string">"age"</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">&#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> jso2=&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript"><span class="string">"a"</span>:<span class="string">"name"</span>,<span class="string">"b"</span>:<span class="string">"age"</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">&#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(jso1.a === jso2.a);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(jso1.b === jso2.b);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(jso1 === jso2);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(jso1);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(jso2);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> jso3=<span class="built_in">JSON</span>.stringify(jso1);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(jso3);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> jso4=<span class="built_in">JSON</span>.parse(&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript"><span class="string">'a'</span>:<span class="string">"name"</span>,<span class="string">"b"</span>:<span class="string">"age"</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> jso4=<span class="built_in">JSON</span>.parse(<span class="string">'&#123;\"a\":\"name\", \"b\":\"age\"&#125;'</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(jso4);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">`</span><br></pre></td></tr></table></figure></p>
<h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><p>参考一：百度百科</p>
<p>参考二：Json对象和Json字符串的区别</p>
<p>参考三：json属性名必须加引号的讨论</p>
<h1 id="更多讨论"><a href="#更多讨论" class="headerlink" title="更多讨论"></a>更多讨论</h1><p>Q：JSON对象有什么遍历方法，如何做</p>
<p>A：用jq方法$.each遍历json对象</p>
<p>Q：angularjs如何转换字符串和对象</p>
<p>A：angular.fromJson( );</p>
<pre><code>angular.toJson();
</code></pre><p>Q：json和jisonp有什么区别</p>
<p>A：json返回的是一串数据；而jsonp返回的是脚本代码（包含一个函数调用）</p>
<p></p></div><div class="meta"><i class="iconfont iconweibiaoti--" title="阅读时长">3</i><i class="iconfont iconwenzi" title="字数">974</i><i class="iconfont iconshijian" title="创建时间">2018-01-04 05:31</i></div></article><article><a class="artititle" href="/2017/12/26/JS_原型链/">JS中的原型链是什么？</a><div class="content ellipse"><p></p><h1 id="背景介绍"><a href="#背景介绍" class="headerlink" title="背景介绍"></a>背景介绍</h1><p>JS中万物皆对象，但是分为两大类，函数对象，普通对象</p>
<p>所有的函数对象都有一个prototype属性，这个属性引用了一个对象，即原型对象，也称原型。 然而普通对象是没有prototype属性，只有<em>proto</em>属性</p>
<h1 id="知识剖析"><a href="#知识剖析" class="headerlink" title="知识剖析"></a>知识剖析</h1><p>vara = {};console.log(a.prototype);//undefined</p>
<p>console.log(a.<strong>proto</strong>);//Object {}</p>
<p>var b =function(){}</p>
<p>console.log(b.prototype);//b {}</p>
<p>console.log(b.<strong>proto</strong>);//function() {}</p>
<p>/<em>1、字面量方式</em>/</p>
<p> var a = {};</p>
<p>console.log(a.<strong>proto</strong>);  //Object {}</p>
<p>console.log(a.<strong>proto</strong> === a.constructor.prototype); //true</p>
<p> /<em>2、构造器方式</em>/</p>
<p>var A = function(){};</p>
<p>var a = new A();</p>
<p> console.log(a.<strong>proto</strong>); //A {}</p>
<p>console.log(a.<strong>proto</strong> === a.constructor.prototype); //true</p>
<p> /<em>3、Object.create()方式</em>/</p>
<p>var a1 = {a:1}</p>
<p> var a2 = Object.create(a1);</p>
<p>console.log(a2.<strong>proto</strong>); //Object {a: 1}</p>
<p>console.log(a.<strong>proto</strong> === a.constructor.prototype); //false</p>
<p>constructor 属性返回对创建此对象的数组函数的引用</p>
<p><em>proto</em>的指向取决于对象创建时的实现方式</p>
<p>大多数情况下，<em>proto</em>可以理解为构造器的原型，即：<em>proto</em> === constructor.prototype</p>
<p>但是通过Object.create()创建的对象不使用此等式</p>
<p>functionFoo1(){this.name1 =’1’;}</p>
<p>functionFoo2(){this.name2 =’2’;}</p>
<p>Foo2.prototype =newFoo1();</p>
<p>functionFoo3(){this.name =’3’;}</p>
<p>Foo3.prototype =newFoo2();</p>
<p>varfoo3 =newFoo3();</p>
<p>console.log(foo3);</p>
<p>当我们「读取」 foo3的某个属性得时候，jS 引擎会做下面的事情：</p>
<ol>
<li><p>看看 foo3 对象本身有没有这个属性。没有就走到下一步。</p>
</li>
<li><p>看看 foo3.<strong>proto</strong> 对象有没有这个属性，发现 foo3.<strong>proto</strong> 有这个属性，于是找到了</p>
</li>
<li><p>如果 foo3.<strong>proto</strong> 没有，那么浏览器会继续查看 foo3.<strong>proto</strong>.<strong>proto</strong></p>
</li>
<li><p>如果 foo3.<strong>proto</strong>.<strong>proto</strong> 也没有，那么浏览器会继续查看 foo3.<strong>proto</strong>.<strong>proto</strong>.proto__</p>
</li>
<li><p>直到找到 或者 <strong>proto</strong> 为 null。</p>
</li>
</ol>
<h1 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h1><p>若想访问一个对象的原型，应该使用什么方法？</p>
<h1 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h1><p>1、使用<em>proto</em>属性</p>
<p>每个JS对象一定对应一个原型对象，并从原型对象继承属性和方法。</p>
<p>对象<strong>proto</strong>属性的值就是它所对应的原型对象；</p>
<p>使用<strong>proto</strong>是有争议的，而且是不鼓励的。 它从来没有被包括在EcmaScript语言规范中，但是现代浏览器实现了它, 无论如何。<strong>proto</strong>属性已在ECMAScript 6语言规范中标准化，用于确保Web浏览器的兼容性，因此它未来将被支持。它已被不推荐使用, 建议使用Object.getPrototyOf()</p>
<h1 id="参考文章："><a href="#参考文章：" class="headerlink" title="参考文章："></a>参考文章：</h1><p>参考一： JS重点整理之JS原型链彻底搞清楚</p>
<p>参考二： 三张图搞懂JavaScript的原型对象与原型链</p>
<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><p>Q：prototype和<em>proto</em>区别</p>
<p>A：所有的函数对象都有一个prototype属性，这个属性引用了一个对象，即原型对象，也称原型。 然而普通对象是没有prototype属性，只有<em>proto</em>属性</p>
<p>Q：constructor 代表什么</p>
<p>A：constructor 属性返回对创建此对象的数组函数的引用</p>
<p>Q:<em>proto</em>的指向哪里</p>
<p>A:<em>proto</em>的指向取决于对象创建时的实现方式</p>
<p></p></div><div class="meta"><i class="iconfont iconweibiaoti--" title="阅读时长">2</i><i class="iconfont iconwenzi" title="字数">724</i><i class="iconfont iconshijian" title="创建时间">2017-12-26 10:28</i></div></article><div id="paginator"><a class="extend prev" rel="prev" href="/archives/page/3/">Prev</a><a class="page-number" href="/archives/">1</a><a class="page-number" href="/archives/page/2/">2</a><a class="page-number" href="/archives/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/archives/page/5/">5</a><a class="extend next" rel="next" href="/archives/page/5/">Next</a></div></div><script>document.getElementById('arshow').onclick = function() {
    document.getElementById('list_archives').style = 'opacity: 0;display: none'
    document.getElementById('normalposts').style = 'opacity: 0;display: block'
    setTimeout(() => {
        document.getElementById('normalposts').style.opacity = '1'                        
    }, 100);
}
document.getElementById('poshow').onclick = function() {
    document.getElementById('normalposts').style = 'opacity: 0;display: none'
    document.getElementById('list_archives').style = 'opacity: 1;display: block'
}</script></div><link rel="stylesheet" href="/css/partial/footer.css"><div class="footer"><p><span>Copyright © 2017 - 2019  </span><a href="http://www.beian.miit.gov.cn/">蜀ICP备19024124号</a></p><p>Powered by <a href="https://hexo.io/zh-cn/" target="_blank">Hexo</a> Theme by <a href="https://github.com/Tong-H/hexo-theme-energy" target="_blank">ENERGY</a></p><p><i class="iconfont iconchakan"><span>本站总访问量</span><span id="busuanzi_container_site_pv">  <span id="busuanzi_value_site_pv"></span> </span></i><i class="iconfont iconabout"><span>本站访客数</span><span id="busuanzi_container_site_uv">  <span id="busuanzi_value_site_uv"></span> </span></i></p></div></div></div><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>var _hmt = _hmt || [];(function(){var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?a4d08c5088ca0d4b18c14260c9ca89a1";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})()</script></body></html>